var methods={dateFormat:function(a,c){if(c===undefined){c=a;a=new Date()}var b={M:a.getMonth()+1,d:a.getDate(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),q:Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};c=c.replace(/([yMdhmsqS])+/g,function(f,e){var d=b[e];if(d!==undefined){if(f.length>1){d="0"+d;d=d.substr(d.length-2)}return d}else{if(e==="y"){return(a.getFullYear()+"").substr(4-f.length)}}return f});return c},getUrlParam:function(b,d){var c=new RegExp("\\?(?:.+&)?"+d+"=(.*?)(?:[?&].*)?$");var a=b.match(c);return a?a[1]:""},setCookie:function(b,d,e){e=e||0;var c="";if(e!=0){var a=new Date();a.setTime(a.getTime()+(e*1000));c="; expires="+a.toGMTString()}document.cookie=b+"="+escape(d)+c+"; path=/"},getCookie:function(b){var f=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var e=a[d];while(e.charAt(0)==" "){e=e.substring(1,e.length)}if(e.indexOf(f)==0){return unescape(e.substring(f.length,e.length))}}return false},clearCookie:function(a){this.setCookie(a,"",-1)},request:function(a,c,b,e,d){$.ajax({url:a,data:c,type:b,dataType:"json",contentType:"application/x-www-form-urlencoded;charset=UTF-8",success:function(f){e&&e(f)},error:function(f){d&&d(f)}})},randomString:function(a){a=a||6;var b="abcdefghijklmnopqrstuvwxyz0123456789";var d=b.length;var e="";for(var c=0;c<a;c++){e+=b.charAt(Math.floor(Math.random()*d))}return e},uuid:function(a,d){var f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var c=[],b;d=d||f.length;if(a){for(b=0;b<a;b++){c[b]=f[0|Math.random()*d]}}else{var e;c[8]=c[13]=c[18]=c[23]="-";c[14]="4";for(b=0;b<36;b++){if(!c[b]){e=0|Math.random()*16;c[b]=f[(b==19)?(e&3)|8:e]}}}return c.join("")},ajax:function(a){var b=a||{};b.type=(b.type||"GET").toUpperCase();b.dataType=b.dataType||"json";var d=methods.formatParams(b.data);if(window.XMLHttpRequest){var c=new XMLHttpRequest()}else{var c=new ActiveXObject("Microsoft.XMLHTTP")}c.onreadystatechange=function(){if(c.readyState==4){var e=c.status;if(e>=200&&e<300){b.success&&b.success(c.responseText,c.responseXML)}else{b.fail&&b.fail(e)}}};if(b.type=="GET"){if(b.url.indexOf("?")!=-1){c.open("GET",b.url,true)}else{c.open("GET",b.url+"?"+d,true)}c.send(null)}else{if(b.type=="POST"){c.open("POST",b.url,true);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(d)}}},formatParams:function(c){var a=[];for(var b in c){a.push(encodeURIComponent(b)+"="+encodeURIComponent(c[b]))}return a.join("&")},nativeAjax:function(a,d,b,e,c){methods.ajax({url:a,type:b,data:d,dataType:"json",success:function(g,f){if(typeof g==="string"){g=JSON.parse(g)}e&&e(g)},fail:function(f){c&&c(f)}})}};